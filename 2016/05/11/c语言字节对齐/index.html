
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>c语言字节对齐 | L</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="liujunming">
    
    <meta name="description" content="偶然的机会，看到关于字节对齐的相关内容，查了相关资料，自己做一下总结吧，233333。
字节对齐题目先上来直接做四道题,在纸上写出你的答案吧！123456789101112131415161718192021222324252627282930313233343536373839404142#inc">
    
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="ljm11636" />
    <meta name="twitter:title" content="c语言字节对齐 | L" />
      
    
    
    <link rel="alternate" href="/atom.xml" title="L" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
    
</head>

  <body>
    <header>
      <div>
		

		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="L" title="L"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="L">L</a></h1>
				<h2 class="blog-motto">make it simple, make it happen.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:liujunming.top">
					</form>
					
					</li>
				</ul>
			</nav>
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/11/c语言字节对齐/" title="c语言字节对齐" itemprop="url">c语言字节对齐</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://liujunming.github.io" title="liujunming">liujunming</a>
    </p>
  <p class="article-time">
    <time datetime="2016-05-11T13:19:33.000Z" itemprop="datePublished">2016-05-11</time>
    更新日期:<time datetime="2018-06-25T14:52:44.000Z" itemprop="dateModified">2018-06-25</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#字节对齐"><span class="toc-number">1.</span> <span class="toc-text">字节对齐</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#题目"><span class="toc-number">1.0.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分析"><span class="toc-number">1.0.2.</span> <span class="toc-text">分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#题解"><span class="toc-number">1.0.3.</span> <span class="toc-text">题解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#答案"><span class="toc-number">1.0.4.</span> <span class="toc-text">答案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#结论"><span class="toc-number">1.0.5.</span> <span class="toc-text">结论</span></a></li></ol></li></ol></li></ol>
		</div>
		
		<p>偶然的机会，看到关于字节对齐的相关内容，查了相关资料，自己做一下总结吧，233333。</p>
<h2 id="字节对齐"><a href="#字节对齐" class="headerlink" title="字节对齐"></a>字节对齐</h2><h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>先上来直接做四道题,在纸上写出你的答案吧！<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">// Alignment requirements</span></span><br><span class="line"><span class="comment">// (typical 32 bit machine)</span></span><br><span class="line"><span class="comment">// char         1 byte</span></span><br><span class="line"><span class="comment">// short     2 bytes</span></span><br><span class="line"><span class="comment">// int          4 bytes</span></span><br><span class="line"><span class="comment">// double       8 bytes</span></span><br><span class="line"><span class="comment">// structure A</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">structa_tag</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="keyword">char</span>        c;</span><br><span class="line">   <span class="keyword">short</span>    s;</span><br><span class="line">&#125; <span class="keyword">structa_t</span>;</span><br><span class="line"><span class="comment">// structure B</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">structb_tag</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="keyword">short</span>    s;</span><br><span class="line">   <span class="keyword">char</span>        c;</span><br><span class="line">   <span class="keyword">int</span>         i;</span><br><span class="line">&#125; <span class="keyword">structb_t</span>;</span><br><span class="line"><span class="comment">// structure C</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">structc_tag</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="keyword">char</span>        c;</span><br><span class="line">   <span class="keyword">double</span>      d;</span><br><span class="line">   <span class="keyword">int</span>         s;</span><br><span class="line">&#125; <span class="keyword">structc_t</span>;</span><br><span class="line"><span class="comment">// structure D</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">structd_tag</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="keyword">double</span>      d;</span><br><span class="line">   <span class="keyword">int</span>         s;</span><br><span class="line">   <span class="keyword">char</span>        c;</span><br><span class="line">&#125; <span class="keyword">structd_t</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"sizeof(structa_t) = %d\n"</span>, <span class="keyword">sizeof</span>(<span class="keyword">structa_t</span>));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"sizeof(structb_t) = %d\n"</span>, <span class="keyword">sizeof</span>(<span class="keyword">structb_t</span>));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"sizeof(structc_t) = %d\n"</span>, <span class="keyword">sizeof</span>(<span class="keyword">structc_t</span>));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"sizeof(structd_t) = %d\n"</span>, <span class="keyword">sizeof</span>(<span class="keyword">structd_t</span>));</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h4><p>Every data type in C/C++ will have alignment requirement (infact it is mandated by processor architecture, not by language). A processor will have processing word length as that of data bus size. On a 32 bit machine, the processing word size will be 4 bytes.<br><img src="/images/2016/5/12/1.gif" alt="这里写图片描述"><br>Historically memory is byte addressable and arranged sequentially. If the memory is arranged as single bank of one byte width, the processor needs to issue 4 memory read cycles to fetch an integer. It is more economical to read all 4 bytes of integer in one memory cycle. To take such advantage, the memory will be arranged as group of 4 banks as shown in the above figure.</p>
<p>The memory addressing still be sequential. If bank 0 occupies an address X, bank 1, bank 2 and bank 3 will be at (X + 1), (X + 2) and (X + 3) addresses. If an integer of 4 bytes is allocated on X address (X is multiple of 4), the processor needs only one memory cycle to read entire integer.</p>
<p>Where as, if the integer is allocated at an address other than multiple of 4, it spans across two rows of the banks as shown in the below figure. Such an integer requires two memory read cycle to fetch the data.<br><img src="/images/2016/5/12/2.gif" alt="这里写图片描述"><br>A variable’s <em>data alignment</em> deals with the way the data stored in these banks. For example, the natural alignment of <em>int</em> on 32-bit machine is 4 bytes. When a data type is naturally aligned, the CPU fetches it in minimum read cycles.</p>
<p>Similarly, the natural alignment of <em>short</em> is 2 bytes. It means, a <em>short</em> can be stored in bank 0 – bank 1 pair or bank 2 – bank 3 pair. A <em>double</em> requires 8 bytes, and occupies two rows in the memory banks. Any misalignment of <em>double</em> will force more than two read cycles to fetch <em>double</em> data.</p>
<p>Note that a double variable will be allocated on 8 byte boundary on 32 bit machine and requires two memory read cycles. On a 64 bit machine, based on number of banks, double variable will be allocated on 8 byte boundary and requires only one memory read cycle.</p>
<h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><p>For the sake of convenience, assume every structure type variable is allocated on 4 byte boundary (say 0x0000), i.e. the base address of structure is multiple of 4 (need not necessary always, see explanation of <em>structc_t</em>).</p>
<font color="#4590a3" size="4px">structure A</font>

<p>The <em>structa_t</em> first element is <em>char</em> which is one byte aligned, followed by <em>short</em>. <em>short</em> is 2 byte aligned. If the the <em>short</em> element is immediately allocated after the <em>char</em> element, it will start at an odd address boundary. The compiler will insert a padding byte after the char to ensure <em>short</em> will have an address multiple of 2 (i.e. 2 byte aligned). The total size of <em>structa_t</em> will be <code>sizeof(char)</code> + 1 (padding) + <code>sizeof(short)</code>, 1 + 1 + 2 = 4 bytes.</p>
<font color="#4590a3" size="4px">structure B</font>

<p>The first member of <em>structb_t</em> is <em>short</em> followed by <em>char</em>. Since <em>char</em> can be on any byte boundary no padding required in between <em>short</em> and <em>char</em>, on total they occupy 3 bytes. The next member is <em>int</em>. If the <em>int</em> is allocated immediately, it will start at an odd byte boundary. We need 1 byte padding after the <em>char</em> member to make the address of next <em>int</em> member is 4 byte aligned. On total, the <em>structb_t</em> requires 2 + 1 + 1 (padding) + 4 = 8 bytes.</p>
<font color="#4590a3" size="4px">structure C – Every structure will also have alignment requirements</font>

<p>Applying same analysis, <em>structc_t</em> needs <code>sizeof(char)</code> + 7 byte padding + <code>sizeof(double)</code> + <code>sizeof(int)</code> = 1 + 7 + 8 + 4 = 20 bytes. However, the <code>sizeof(structc_t)</code> will be 24 bytes. It is because, along with structure members, structure type variables will also have natural alignment. Let us understand it by an example. Say, we declared an array of <em>structc_t</em> as shown below<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">structc_t</span> structc_array[<span class="number">3</span>];</span><br></pre></td></tr></table></figure></p>
<p>Assume, the base address of <em>structc_array</em> is 0x0000 for easy calculations. If the <em>structc_t</em> occupies 20 (0x14) bytes as we calculated, the second <em>structc_t</em> array element (indexed at 1) will be at 0x0000 + 0x0014 = 0x0014. It is the start address of index 1 element of array. The <em>double</em> member of this <em>structc_t</em> will be allocated on 0x0014 + 0x1 + 0x7 = 0x001C (decimal 28) which is not multiple of 8 and conflicting with the alignment requirements of <em>double</em>. As we mentioned on the top, the alignment requirement of <em>double</em> is 8 bytes.</p>
<p>Inorder to avoid such misalignment, compiler will introduce alignment requirement to every structure. It will be as that of the largest member of the structure. In our case alignment of <em>structa_t</em> is 2, <em>structb_t</em> is 4 and <em>structc_t</em> is 8. If we need nested structures, the size of largest inner structure will be the alignment of immediate larger structure.</p>
<p>In <em>structc_t</em> of the above program, there will be padding of 4 bytes after int member to make the structure size multiple of its alignment. Thus the <code>sizeof (structc_t)</code> is 24 bytes. It guarantees correct alignment even in arrays. You can cross check.</p>
<font color="#4590a3" size="4px">structure D – How to Reduce Padding?</font>

<p>By now, it may be clear that padding is unavoidable. There is a way to minimize padding. The programmer should declare the structure members in their increasing/decreasing order of size. An example is <em>structd_t</em> given in our code, whose size is 16 bytes in lieu of 24 bytes of <em>structc_t</em>.</p>
<h4 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h4><p><img src="/images/2016/5/12/3.png" alt="这里写图片描述"></p>
<h4 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h4><p>请牢记以下3条原则:(<font color="#ff0000">在没有#pragma pack宏的情况下</font>)</p>
<p>１:数据成员对齐规则：结构(<code>struct</code>)(或联合(<code>union</code>))的数据成员，第一个数据成员放在offset为0的地方，以后每个数据成员存储的起始位置要从该成员大小或者成员的子成员大小（只要该成员有子成员，比如说是数组，结构体等）的整数倍开始(比如int在32位机为４字节,则要从４的整数倍地址开始存储)。</p>
<p>２:结构体作为成员:如果一个结构里有某些结构体成员,则结构体成员要从其内部最大元素大小的整数倍地址开始存储。</p>
<p>３:收尾工作:结构体的总大小,也就是sizeof的结果,必须是其内部最大成员的整数倍,不足的要补齐。</p>
<hr>
<p>参考资料：</p>
<ol>
<li><a href="http://blog.csdn.net/21aspnet/article/details/6729724/" target="_blank" rel="noopener">csdn 21aspnet</a></li>
<li><a href="http://blog.csdn.net/hairetz/article/details/4084088" target="_blank" rel="noopener">csdn hairetz</a></li>
<li><a href="http://www.geeksforgeeks.org/structure-member-alignment-padding-and-data-packing/" target="_blank" rel="noopener">www.geeksforgeeks.org</a></li>
</ol>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/C语言/">C语言</a><a href="/tags/计算机原理/">计算机原理</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/C语言/">C语言</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://liujunming.github.io/2016/05/11/c语言字节对齐/" data-title="c语言字节对齐 | L" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/05/13/B树和B-树的定义以及应用/" title="B树和B+树的定义以及应用">
  <strong>PREVIOUS:</strong><br/>
  <span>
  B树和B+树的定义以及应用</span>
</a>
</div>


<div class="next">
<a href="/2016/05/08/linux-mmap函数的应用/"  title="linux mmap函数的应用">
 <strong>NEXT:</strong><br/> 
 <span>linux mmap函数的应用
</span>
</a>
</div>

</nav>

	
<section id="comment">
  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#字节对齐"><span class="toc-number">1.</span> <span class="toc-text">字节对齐</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#题目"><span class="toc-number">1.0.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分析"><span class="toc-number">1.0.2.</span> <span class="toc-text">分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#题解"><span class="toc-number">1.0.3.</span> <span class="toc-text">题解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#答案"><span class="toc-number">1.0.4.</span> <span class="toc-text">答案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#结论"><span class="toc-number">1.0.5.</span> <span class="toc-text">结论</span></a></li></ol></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/C语言/" title="C语言">C语言<sup>3</sup></a></li>
		
			<li><a href="/categories/Kernel/" title="Kernel">Kernel<sup>8</sup></a></li>
		
			<li><a href="/categories/benchmark/" title="benchmark">benchmark<sup>4</sup></a></li>
		
			<li><a href="/categories/kv-store/" title="kv store">kv store<sup>2</sup></a></li>
		
			<li><a href="/categories/linux/" title="linux">linux<sup>3</sup></a></li>
		
			<li><a href="/categories/python/" title="python">python<sup>1</sup></a></li>
		
			<li><a href="/categories/scala/" title="scala">scala<sup>2</sup></a></li>
		
			<li><a href="/categories/spark/" title="spark">spark<sup>2</sup></a></li>
		
			<li><a href="/categories/内存管理/" title="内存管理">内存管理<sup>20</sup></a></li>
		
			<li><a href="/categories/分布式系统/" title="分布式系统">分布式系统<sup>7</sup></a></li>
		
			<li><a href="/categories/存储/" title="存储">存储<sup>1</sup></a></li>
		
			<li><a href="/categories/容器/" title="容器">容器<sup>2</sup></a></li>
		
			<li><a href="/categories/工具/" title="工具">工具<sup>4</sup></a></li>
		
			<li><a href="/categories/操作系统/" title="操作系统">操作系统<sup>3</sup></a></li>
		
			<li><a href="/categories/数据结构/" title="数据结构">数据结构<sup>8</sup></a></li>
		
			<li><a href="/categories/文件系统/" title="文件系统">文件系统<sup>4</sup></a></li>
		
			<li><a href="/categories/算法/" title="算法">算法<sup>5</sup></a></li>
		
			<li><a href="/categories/经验/" title="经验">经验<sup>9</sup></a></li>
		
			<li><a href="/categories/虚拟化/" title="虚拟化">虚拟化<sup>6</sup></a></li>
		
			<li><a href="/categories/计算机系统/" title="计算机系统">计算机系统<sup>8</sup></a></li>
		
			<li><a href="/categories/计算机网络/" title="计算机网络">计算机网络<sup>2</sup></a></li>
		
			<li><a href="/categories/软件工程/" title="软件工程">软件工程<sup>24</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/C语言/" title="C语言">C语言<sup>3</sup></a></li>
		
			<li><a href="/tags/KVM/" title="KVM">KVM<sup>4</sup></a></li>
		
			<li><a href="/tags/Kernel/" title="Kernel">Kernel<sup>26</sup></a></li>
		
			<li><a href="/tags/benchmark/" title="benchmark">benchmark<sup>4</sup></a></li>
		
			<li><a href="/tags/docker/" title="docker">docker<sup>2</sup></a></li>
		
			<li><a href="/tags/ksm/" title="ksm">ksm<sup>1</sup></a></li>
		
			<li><a href="/tags/leveldb/" title="leveldb">leveldb<sup>2</sup></a></li>
		
			<li><a href="/tags/linux/" title="linux">linux<sup>5</sup></a></li>
		
			<li><a href="/tags/python/" title="python">python<sup>1</sup></a></li>
		
			<li><a href="/tags/scala/" title="scala">scala<sup>2</sup></a></li>
		
			<li><a href="/tags/spark/" title="spark">spark<sup>2</sup></a></li>
		
			<li><a href="/tags/xv6/" title="xv6">xv6<sup>2</sup></a></li>
		
			<li><a href="/tags/内存管理/" title="内存管理">内存管理<sup>21</sup></a></li>
		
			<li><a href="/tags/分布式系统/" title="分布式系统">分布式系统<sup>7</sup></a></li>
		
			<li><a href="/tags/存储/" title="存储">存储<sup>1</sup></a></li>
		
			<li><a href="/tags/容器/" title="容器">容器<sup>2</sup></a></li>
		
			<li><a href="/tags/工具/" title="工具">工具<sup>4</sup></a></li>
		
			<li><a href="/tags/操作系统/" title="操作系统">操作系统<sup>3</sup></a></li>
		
			<li><a href="/tags/数据结构/" title="数据结构">数据结构<sup>8</sup></a></li>
		
			<li><a href="/tags/文件系统/" title="文件系统">文件系统<sup>4</sup></a></li>
		
		</ul>
</div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">归档</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">7</span></li></ul>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
      <li><a href="http://home.ustc.edu.cn/~ljm0910" target="_blank">ustc个人主页</a></li>
      <li><a href="http://home.ustc.edu.cn/~ljm0910/paper.html" target="_blank">论文整理</a></li>
      <li><a href="https://dremy.cn/" target="_blank">Dremy's Blog</a></li>
    </ul>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello, I am Liujunming <br/>
			This is my blog</p>
	</section>
	 
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/u/3947739858?is_all=1" target="_blank" title="weibo"></a>
		
		
		<a href="https://twitter.com/ljm11636" target="_blank" title="twitter"></a>
		
		
		<a href="https://github.com/liujunming" target="_blank" title="github"></a>
		
		
		<a href="https://www.facebook.com/profile.php?id=100007411297476" target="_blank" title="facebook"></a>
		
		
	</div>
		<p class="copyright">Copyright © 2015-2018 <br>liujunming<br>All Right Reserved
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



    <script type="text/javascript">
    var disqus_shortname = 'junmingliu';
    var disqus_config = function () {
        this.page.url = 'http://liujunming.github.io/2016/05/11/c语言字节对齐/';
        this.page.identifier = '/2016/05/11/c语言字节对齐/';
        this.page.title = 'c语言字节对齐';
    };
    (function(){
      var d = document;
      var dsq = d.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (d.head || d.body).appendChild(dsq);
    })();
    </script>






  </body>
</html>
