
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>Designing Data-Intensive Applications 读书笔记 -The Trouble with Distributed Systems | L</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="liujunming">
    
    <meta name="description" content="Unreliable NetworksThe usual way of handling this issue is a timeout: after some time you give up waiting and assume that the response is not going to">
    
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="ljm11636" />
    <meta name="twitter:title" content="Designing Data-Intensive Applications 读书笔记 -The Trouble with Distributed Systems | L" />
      
    
    
    <link rel="alternate" href="/atom.xml" title="L" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
    
</head>

  <body>
    <header>
      <div>
		

		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="L" title="L"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="L">L</a></h1>
				<h2 class="blog-motto">make it simple, make it happen.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:liujunming.top">
					</form>
					
					</li>
				</ul>
			</nav>
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/09/25/Designing-Data-Intensive-Applications-读书笔记-The-Trouble-with-Distributed-Systems/" title="Designing Data-Intensive Applications 读书笔记 -The Trouble with Distributed Systems" itemprop="url">Designing Data-Intensive Applications 读书笔记 -The Trouble with Distributed Systems</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://liujunming.github.io" title="liujunming">liujunming</a>
    </p>
  <p class="article-time">
    <time datetime="2018-09-25T06:02:17.000Z" itemprop="datePublished">2018-09-25</time>
    更新日期:<time datetime="2018-10-07T09:09:20.296Z" itemprop="dateModified">2018-10-07</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Unreliable-Networks"><span class="toc-number">1.</span> <span class="toc-text">Unreliable Networks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Network-Faults-in-Practice"><span class="toc-number">1.1.</span> <span class="toc-text">Network Faults in Practice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Detecting-Faults"><span class="toc-number">1.2.</span> <span class="toc-text">Detecting Faults</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Timeouts-and-Unbounded-Delays"><span class="toc-number">1.3.</span> <span class="toc-text">Timeouts and Unbounded Delays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Synchronous-Versus-Asynchronous-Networks"><span class="toc-number">1.4.</span> <span class="toc-text">Synchronous Versus Asynchronous Networks</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unreliable-Clocks"><span class="toc-number">2.</span> <span class="toc-text">Unreliable Clocks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Monotonic-Versus-Time-of-Day-Clocks"><span class="toc-number">2.1.</span> <span class="toc-text">Monotonic Versus Time-of-Day Clocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Clock-Synchronization-and-Accuracy"><span class="toc-number">2.2.</span> <span class="toc-text">Clock Synchronization and Accuracy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Relying-on-Synchronized-Clocks"><span class="toc-number">2.3.</span> <span class="toc-text">Relying on Synchronized Clocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Process-Pauses"><span class="toc-number">2.4.</span> <span class="toc-text">Process Pauses</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Knowledge-Truth-and-Lies"><span class="toc-number">3.</span> <span class="toc-text">Knowledge, Truth, and Lies</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Truth-Is-Defined-by-the-Majority"><span class="toc-number">3.1.</span> <span class="toc-text">The Truth Is Defined by the Majority</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#The-leader-and-the-lock"><span class="toc-number">3.1.1.</span> <span class="toc-text">The leader and the lock</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fencing-tokens"><span class="toc-number">3.1.2.</span> <span class="toc-text">Fencing tokens</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Byzantine-Faults"><span class="toc-number">3.2.</span> <span class="toc-text">Byzantine Faults</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#System-Model-and-Reality"><span class="toc-number">3.3.</span> <span class="toc-text">System Model and Reality</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Correctness-of-an-algorithm"><span class="toc-number">3.3.1.</span> <span class="toc-text">Correctness of an algorithm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Safety-and-liveness"><span class="toc-number">3.3.2.</span> <span class="toc-text">Safety and liveness</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mapping-system-models-to-the-real-world"><span class="toc-number">3.3.3.</span> <span class="toc-text">Mapping system models to the real world</span></a></li></ol></li></ol></li></ol>
		</div>
		
		<h2 id="Unreliable-Networks"><a href="#Unreliable-Networks" class="headerlink" title="Unreliable Networks"></a>Unreliable Networks</h2><p><img src="/images/2018/9/41.png" alt=""><br>The usual way of handling this issue is a <em>timeout</em>: after some time you give up waiting and assume that the response is not going to arrive. However, when a timeout occurs, you still don’t know whether the remote node got your request or not.</p>
<h3 id="Network-Faults-in-Practice"><a href="#Network-Faults-in-Practice" class="headerlink" title="Network Faults in Practice"></a>Network Faults in Practice</h3><h3 id="Detecting-Faults"><a href="#Detecting-Faults" class="headerlink" title="Detecting Faults"></a>Detecting Faults</h3><h3 id="Timeouts-and-Unbounded-Delays"><a href="#Timeouts-and-Unbounded-Delays" class="headerlink" title="Timeouts and Unbounded Delays"></a>Timeouts and Unbounded Delays</h3><p>如果超时是检测故障的唯一可靠方法，那么超时应该等待多久？不幸的是没有简单的答案。</p>
<h3 id="Synchronous-Versus-Asynchronous-Networks"><a href="#Synchronous-Versus-Asynchronous-Networks" class="headerlink" title="Synchronous Versus Asynchronous Networks"></a>Synchronous Versus Asynchronous Networks</h3><p>It is possible to give hard real-time response guarantees and bounded delays in networks, but doing so is very expensive and results in lower utilization of hardware resources. Most non-safety-critical systems choose cheap and unreliable over expensive and reliable.</p>
<h2 id="Unreliable-Clocks"><a href="#Unreliable-Clocks" class="headerlink" title="Unreliable Clocks"></a>Unreliable Clocks</h2><p>可以在一定程度上同步时钟：最常用的机制是网络时间协议（NTP），它允许根据一组服务器报告的时间来调整计算机时钟。服务器则从更精确的时间源（如GPS接收机）获取时间。</p>
<h3 id="Monotonic-Versus-Time-of-Day-Clocks"><a href="#Monotonic-Versus-Time-of-Day-Clocks" class="headerlink" title="Monotonic Versus Time-of-Day Clocks"></a>Monotonic Versus Time-of-Day Clocks</h3><p>时钟可以及时跳回。<br>单调钟适用于测量持续时间（时间间隔），例如超时或服务的响应时间。</p>
<p>​在分布式系统中，使用单调钟测量经过时间（比如超时）通常很好，因为它不假定不同节点的时钟之间存在任何同步，并且对测量的轻微不准确性不敏感。</p>
<h3 id="Clock-Synchronization-and-Accuracy"><a href="#Clock-Synchronization-and-Accuracy" class="headerlink" title="Clock Synchronization and Accuracy"></a>Clock Synchronization and Accuracy</h3><h3 id="Relying-on-Synchronized-Clocks"><a href="#Relying-on-Synchronized-Clocks" class="headerlink" title="Relying on Synchronized Clocks"></a>Relying on Synchronized Clocks</h3><h3 id="Process-Pauses"><a href="#Process-Pauses" class="headerlink" title="Process Pauses"></a>Process Pauses</h3><p> Say you have a database with a single leader per partition. Only the leader is allowed to accept writes. How does a node know that it is still leader (that it hasn’t been declared dead by the others), and that it may safely accept writes?</p>
<p> One option is for the leader to obtain a <em>lease</em> from the other nodes. Only one node can hold the lease at any one time—thus, when a node obtains a lease, it knows that it is the leader for some amount of time, until the lease expires. In order to remain leader, the node must periodically renew the lease before it expires. If the node fails, it stops renewing the lease, so another node can take over when it expires.</p>
<p> You can imagine the request-handling loop looking something like this:</p>
<p><img src="/images/2018/9/42.png" alt=""></p>
<p>Firstly, it’s relying on synchronized clocks.However, what if there is an unexpected pause in the execution of the program? For example, imagine the thread stops for 15 seconds around the line <code>lease.isValid()</code> before finally continuing. In that case, it’s likely that the lease will have expired by the time the request is processed, and another node has already taken over as leader. However, there is nothing to tell this thread that it was paused for so long, so this code won’t notice that the lease has expired until the next iteration of the loop—by which time it may have already done something unsafe by processing the request.</p>
<h2 id="Knowledge-Truth-and-Lies"><a href="#Knowledge-Truth-and-Lies" class="headerlink" title="Knowledge, Truth, and Lies"></a>Knowledge, Truth, and Lies</h2><p>So far in this chapter we have explored the ways in which distributed systems are different from programs running on a single computer: there is no shared memory, only message passing via an unreliable network with variable delays, and the systems may suffer from partial failures, unreliable clocks, and processing pauses.</p>
<h3 id="The-Truth-Is-Defined-by-the-Majority"><a href="#The-Truth-Is-Defined-by-the-Majority" class="headerlink" title="The Truth Is Defined by the Majority"></a>The Truth Is Defined by the Majority</h3><p>A node cannot necessarily trust its own judgment of a situation.A distributed system cannot exclusively rely on a single node, because a node may fail at any time, potentially leaving the system stuck and unable to recover. Instead, many distributed algorithms rely on a quorum, that is, voting among the nodes.</p>
<p>That includes decisions about declaring nodes dead. If a quorum of nodes declares another node dead, then it must be considered dead, even if that node still very much feels alive. The individual node must abide by the quorum decision and step down.</p>
<h4 id="The-leader-and-the-lock"><a href="#The-leader-and-the-lock" class="headerlink" title="The leader and the lock"></a>The leader and the lock</h4><p><img src="/images/2018/9/43.png" alt=""><br>If the client holding the lease is paused for too long, its lease expires. Another client can obtain a lease for the same file, and start writing to the file. When the paused client comes back, it believes (incorrectly) that it still has a valid lease and proceeds to also write to the file. As a result, the clients’ writes clash and corrupt the file.</p>
<h4 id="Fencing-tokens"><a href="#Fencing-tokens" class="headerlink" title="Fencing tokens"></a>Fencing tokens</h4><p>Fencing tokens(防护令牌)</p>
<p>We need to ensure that a node that is under a false belief of being “the chosen one” cannot disrupt the rest of the system.</p>
<p><img src="/images/2018/9/44.png" alt=""></p>
<h3 id="Byzantine-Faults"><a href="#Byzantine-Faults" class="headerlink" title="Byzantine Faults"></a>Byzantine Faults</h3><p>Fencing tokens can detect and block a node that is <em>inadvertently</em> acting in error.If the node deliberately wanted to subvert the system’s guarantees, it could easily do so by sending messages with a fake fencing token.</p>
<p>Distributed systems problems become much harder if there is a risk that nodes may “lie” (send arbitrary faulty or corrupted responses)—for example, if a node may claim to have received a particular message when in fact it didn’t. Such behavior is known as a <em>Byzantine fault</em>, and the problem of reaching consensus in this untrusting environment is known as the <em>Byzantine Generals Problem</em>.</p>
<p>A system is <em>Byzantine fault-tolerant</em> if it continues to operate correctly even if some of the nodes are malfunctioning and not obeying the protocol, or if malicious attackers are interfering with the network.</p>
<p>Byzantine是错综复杂的意思。</p>
<h3 id="System-Model-and-Reality"><a href="#System-Model-and-Reality" class="headerlink" title="System Model and Reality"></a>System Model and Reality</h3><p>With regard to timing assumptions, three system models are in common use:</p>
<ul>
<li><em>Synchronous model</em></li>
<li><em>Partially synchronous model</em></li>
<li><em>Asynchronous model</em></li>
</ul>
<p>Moreover, besides timing issues, we have to consider node failures. The three most common system models for nodes are:</p>
<ul>
<li><em>Crash-stop faults</em></li>
<li><em>Crash-recovery faults</em></li>
<li><em>Byzantine (arbitrary) faults</em></li>
</ul>
<p>For modeling real systems, the partially synchronous model with crash-recovery faults is generally the most useful model.</p>
<h4 id="Correctness-of-an-algorithm"><a href="#Correctness-of-an-algorithm" class="headerlink" title="Correctness of an algorithm"></a>Correctness of an algorithm</h4><h4 id="Safety-and-liveness"><a href="#Safety-and-liveness" class="headerlink" title="Safety and liveness"></a>Safety and liveness</h4><p>Liveness properties often include the word “eventually” in their definition.</p>
<p>Safety is often informally defined as <em>nothing bad happens</em>, and liveness as <em>something good eventually happens</em>.</p>
<p>An advantage of distinguishing between safety and liveness properties is that it helps us deal with difficult system models. </p>
<h4 id="Mapping-system-models-to-the-real-world"><a href="#Mapping-system-models-to-the-real-world" class="headerlink" title="Mapping system models to the real world"></a>Mapping system models to the real world</h4><p>Safety and liveness properties and system models are very useful for reasoning about the correctness of a distributed algorithm.</p>
<p>Proving an algorithm correct does not mean its <em>implementation</em> on a real system will necessarily always behave correctly.</p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/分布式系统/">分布式系统</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/分布式系统/">分布式系统</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://liujunming.github.io/2018/09/25/Designing-Data-Intensive-Applications-读书笔记-The-Trouble-with-Distributed-Systems/" data-title="Designing Data-Intensive Applications 读书笔记 -The Trouble with Distributed Systems | L" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2018/10/07/Designing-Data-Intensive-Applications-读书笔记-Consistency-and-Consensus/" title="Designing Data-Intensive Applications 读书笔记 -Consistency and Consensus">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Designing Data-Intensive Applications 读书笔记 -Consistency and Consensus</span>
</a>
</div>


<div class="next">
<a href="/2018/09/23/Designing-Data-Intensive-Applications-读书笔记-Transactions/"  title="Designing Data-Intensive Applications 读书笔记 -Transactions">
 <strong>NEXT:</strong><br/> 
 <span>Designing Data-Intensive Applications 读书笔记 -Transactions
</span>
</a>
</div>

</nav>

	
<section id="comment">
  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Unreliable-Networks"><span class="toc-number">1.</span> <span class="toc-text">Unreliable Networks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Network-Faults-in-Practice"><span class="toc-number">1.1.</span> <span class="toc-text">Network Faults in Practice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Detecting-Faults"><span class="toc-number">1.2.</span> <span class="toc-text">Detecting Faults</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Timeouts-and-Unbounded-Delays"><span class="toc-number">1.3.</span> <span class="toc-text">Timeouts and Unbounded Delays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Synchronous-Versus-Asynchronous-Networks"><span class="toc-number">1.4.</span> <span class="toc-text">Synchronous Versus Asynchronous Networks</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unreliable-Clocks"><span class="toc-number">2.</span> <span class="toc-text">Unreliable Clocks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Monotonic-Versus-Time-of-Day-Clocks"><span class="toc-number">2.1.</span> <span class="toc-text">Monotonic Versus Time-of-Day Clocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Clock-Synchronization-and-Accuracy"><span class="toc-number">2.2.</span> <span class="toc-text">Clock Synchronization and Accuracy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Relying-on-Synchronized-Clocks"><span class="toc-number">2.3.</span> <span class="toc-text">Relying on Synchronized Clocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Process-Pauses"><span class="toc-number">2.4.</span> <span class="toc-text">Process Pauses</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Knowledge-Truth-and-Lies"><span class="toc-number">3.</span> <span class="toc-text">Knowledge, Truth, and Lies</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Truth-Is-Defined-by-the-Majority"><span class="toc-number">3.1.</span> <span class="toc-text">The Truth Is Defined by the Majority</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#The-leader-and-the-lock"><span class="toc-number">3.1.1.</span> <span class="toc-text">The leader and the lock</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fencing-tokens"><span class="toc-number">3.1.2.</span> <span class="toc-text">Fencing tokens</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Byzantine-Faults"><span class="toc-number">3.2.</span> <span class="toc-text">Byzantine Faults</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#System-Model-and-Reality"><span class="toc-number">3.3.</span> <span class="toc-text">System Model and Reality</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Correctness-of-an-algorithm"><span class="toc-number">3.3.1.</span> <span class="toc-text">Correctness of an algorithm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Safety-and-liveness"><span class="toc-number">3.3.2.</span> <span class="toc-text">Safety and liveness</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mapping-system-models-to-the-real-world"><span class="toc-number">3.3.3.</span> <span class="toc-text">Mapping system models to the real world</span></a></li></ol></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/C语言/" title="C语言">C语言<sup>3</sup></a></li>
		
			<li><a href="/categories/Kernel/" title="Kernel">Kernel<sup>8</sup></a></li>
		
			<li><a href="/categories/benchmark/" title="benchmark">benchmark<sup>4</sup></a></li>
		
			<li><a href="/categories/kv-store/" title="kv store">kv store<sup>2</sup></a></li>
		
			<li><a href="/categories/linux/" title="linux">linux<sup>3</sup></a></li>
		
			<li><a href="/categories/python/" title="python">python<sup>1</sup></a></li>
		
			<li><a href="/categories/scala/" title="scala">scala<sup>2</sup></a></li>
		
			<li><a href="/categories/spark/" title="spark">spark<sup>2</sup></a></li>
		
			<li><a href="/categories/内存管理/" title="内存管理">内存管理<sup>20</sup></a></li>
		
			<li><a href="/categories/分布式系统/" title="分布式系统">分布式系统<sup>7</sup></a></li>
		
			<li><a href="/categories/存储/" title="存储">存储<sup>1</sup></a></li>
		
			<li><a href="/categories/容器/" title="容器">容器<sup>2</sup></a></li>
		
			<li><a href="/categories/工具/" title="工具">工具<sup>4</sup></a></li>
		
			<li><a href="/categories/操作系统/" title="操作系统">操作系统<sup>3</sup></a></li>
		
			<li><a href="/categories/数据结构/" title="数据结构">数据结构<sup>8</sup></a></li>
		
			<li><a href="/categories/文件系统/" title="文件系统">文件系统<sup>4</sup></a></li>
		
			<li><a href="/categories/算法/" title="算法">算法<sup>5</sup></a></li>
		
			<li><a href="/categories/经验/" title="经验">经验<sup>8</sup></a></li>
		
			<li><a href="/categories/虚拟化/" title="虚拟化">虚拟化<sup>6</sup></a></li>
		
			<li><a href="/categories/计算机系统/" title="计算机系统">计算机系统<sup>8</sup></a></li>
		
			<li><a href="/categories/计算机网络/" title="计算机网络">计算机网络<sup>2</sup></a></li>
		
			<li><a href="/categories/软件工程/" title="软件工程">软件工程<sup>24</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/C语言/" title="C语言">C语言<sup>3</sup></a></li>
		
			<li><a href="/tags/KVM/" title="KVM">KVM<sup>4</sup></a></li>
		
			<li><a href="/tags/Kernel/" title="Kernel">Kernel<sup>26</sup></a></li>
		
			<li><a href="/tags/benchmark/" title="benchmark">benchmark<sup>4</sup></a></li>
		
			<li><a href="/tags/docker/" title="docker">docker<sup>2</sup></a></li>
		
			<li><a href="/tags/ksm/" title="ksm">ksm<sup>1</sup></a></li>
		
			<li><a href="/tags/leveldb/" title="leveldb">leveldb<sup>2</sup></a></li>
		
			<li><a href="/tags/linux/" title="linux">linux<sup>5</sup></a></li>
		
			<li><a href="/tags/python/" title="python">python<sup>1</sup></a></li>
		
			<li><a href="/tags/scala/" title="scala">scala<sup>2</sup></a></li>
		
			<li><a href="/tags/spark/" title="spark">spark<sup>2</sup></a></li>
		
			<li><a href="/tags/xv6/" title="xv6">xv6<sup>2</sup></a></li>
		
			<li><a href="/tags/内存管理/" title="内存管理">内存管理<sup>21</sup></a></li>
		
			<li><a href="/tags/分布式系统/" title="分布式系统">分布式系统<sup>7</sup></a></li>
		
			<li><a href="/tags/存储/" title="存储">存储<sup>1</sup></a></li>
		
			<li><a href="/tags/容器/" title="容器">容器<sup>2</sup></a></li>
		
			<li><a href="/tags/工具/" title="工具">工具<sup>4</sup></a></li>
		
			<li><a href="/tags/操作系统/" title="操作系统">操作系统<sup>3</sup></a></li>
		
			<li><a href="/tags/数据结构/" title="数据结构">数据结构<sup>8</sup></a></li>
		
			<li><a href="/tags/文件系统/" title="文件系统">文件系统<sup>4</sup></a></li>
		
		</ul>
</div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">归档</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">6</span></li></ul>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
      <li><a href="http://liujunming.top/junming/" target="_blank">个人主页</a></li>
      <li><a href="http://liujunming.top/junming/paper.html" target="_blank">论文整理</a></li>
      <li><a href="https://dremy.cn/" target="_blank">Dremy's Blog</a></li>
    </ul>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello, I am Liujunming <br/>
			This is my blog</p>
	</section>
	 
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/u/3947739858?is_all=1" target="_blank" title="weibo"></a>
		
		
		<a href="https://twitter.com/ljm11636" target="_blank" title="twitter"></a>
		
		
		<a href="https://github.com/liujunming" target="_blank" title="github"></a>
		
		
		<a href="https://www.facebook.com/profile.php?id=100007411297476" target="_blank" title="facebook"></a>
		
		
	</div>
		<p class="copyright">Copyright © 2015-2018 <br>liujunming<br>All Right Reserved
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



    <script type="text/javascript">
    var disqus_shortname = 'junmingliu';
    var disqus_config = function () {
        this.page.url = 'http://liujunming.github.io/2018/09/25/Designing-Data-Intensive-Applications-读书笔记-The-Trouble-with-Distributed-Systems/';
        this.page.identifier = '/2018/09/25/Designing-Data-Intensive-Applications-读书笔记-The-Trouble-with-Distributed-Systems/';
        this.page.title = 'Designing Data-Intensive Applications 读书笔记 -The Trouble with Distributed Systems';
    };
    (function(){
      var d = document;
      var dsq = d.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (d.head || d.body).appendChild(dsq);
    })();
    </script>






  </body>
</html>
