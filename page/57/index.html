<!DOCTYPE html>
<html lang="zh-CN">
  <head><meta name="generator" content="Hexo 3.9.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="liujunming's personal blog.">













  <link rel="alternate" href="/atom.xml" title="L">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.10.1">



<link rel="canonical" href="http://liujunming.github.io/page/57/">



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css">




  <link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css">



<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.10.1">



  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":true};
</script>

    <title> L </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">L</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            归档
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            分类
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            标签
          
        </li>
      </a>
    
      <a href="/links">
        <li class="mobile-menu-item">
          
          
            Links
          
        </li>
      </a>
    
      <a href="/books">
        <li class="mobile-menu-item">
          
          
            Books
          
        </li>
      </a>
    
      <a href="/course">
        <li class="mobile-menu-item">
          
          
            Course
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">L</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              分类
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              标签
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/links">
            
            
              Links
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/books">
            
            
              Books
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/course">
            
            
              Course
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <section id="posts" class="posts">
    
      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/13/深入理解-Linux-的-RCU-机制/">深入理解 Linux 的 RCU 机制</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-13
        </span>
        
          <span class="post-category">
            
              <a href="/categories/Concurrency/">Concurrency</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <p>Read-copy update (RCU) is a synchronization mechanism. RCU achieves scalability improvements by allowing reads to occur concurrently with updates. In contrast with conventional locking primitives that ensure mutual exclusion among concurrent threads regardless of whether they be readers or updaters, or with reader-writer locks that allow concurrent reads but not in the presence of updates, <strong>RCU supports concurrency between a single updater and multiple readers</strong>.
          <div class="read-more">
            <a href="/2018/12/13/深入理解-Linux-的-RCU-机制/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </p></div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/04/Understanding-the-Linux-Kernel-读书笔记-Interrupts-and-Exceptions/">Understanding the Linux Kernel 读书笔记 -Interrupts and Exceptions</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-04
        </span>
        
          <span class="post-category">
            
              <a href="/categories/Kernel/">Kernel</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <p>An <em>interrupt</em> is usually defined as an event that alters the sequence of instructions executed by a processor.</p>
<p>Intel microprocessor manuals designate synchronous and asynchronous interrupts as <em>exceptions</em> and <em>interrupts</em>.
          <div class="read-more">
            <a href="/2018/12/04/Understanding-the-Linux-Kernel-读书笔记-Interrupts-and-Exceptions/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </p></div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/28/Fix-Mapped-Linear-Addresses/">Fix-Mapped Linear Addresses</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-28
        </span>
        
          <span class="post-category">
            
              <a href="/categories/内存管理/">内存管理</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>fixmap是一段固定地址映射，kernel预留的一段虚拟地址空间，虚拟地址是在编译的时候确定。fixmap可以用来做什么？kernel启动初期，由于此时的kernel已经运行在虚拟地址上。因此我们访问具体的物理地址是不行的，必须建立虚拟地址和物理地址的映射，然后通过虚拟地址访问才可以。例如：dtb中包含bootloader传递过来的内存信息，我们需要解析dtb，但是我们得到的是dtb的物理地址。因此访问之前必须创建映射，创建映射又需要内存系统。但是由于所有的内存管理子系统还没有ready，因此我们不能使用ioremap接口创建映射，为此kernel提出fixmap的解决方案。<br>
          <div class="read-more">
            <a href="/2018/11/28/Fix-Mapped-Linear-Addresses/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </p></div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/27/内核页表和进程页表/">内核页表和进程页表</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-27
        </span>
        
          <span class="post-category">
            
              <a href="/categories/内存管理/">内存管理</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <p>本文转载自：<a href="http://blog.chinaunix.net/uid-14528823-id-4334619.html" target="_blank" rel="noopener">chinaunix</a></p>
<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>初学内核时，经常被“内核页表”和“进程页表”搞晕，不知道这到底是个啥东东，跟我们平时理解的页表有和关系。</p>
<ul>
<li><p>内核页表：即书上说的<strong>主内核页表</strong>，在内核中其实就是一段内存，存放在主内核页全局目录init_mm.pgd(swapper_pg_dir)中，硬件并不直接使用。</p>
</li>
<li><p>进程页表：每个进程自己的页表，放在进程自身的页目录task_struct.pgd中。</p>
</li>
</ul>
          <div class="read-more">
            <a href="/2018/11/27/内核页表和进程页表/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/27/Understanding-the-Linux-Kernel-读书笔记-Memory-Addressing/">Understanding the Linux Kernel 读书笔记 -Memory Addressing</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-27
        </span>
        
          <span class="post-category">
            
              <a href="/categories/Kernel/">Kernel</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <h2 id="Memory-Addresses"><a href="#Memory-Addresses" class="headerlink" title="Memory Addresses"></a>Memory Addresses</h2><p><strong>Logical address</strong></p>
<ul>
<li>Included in the machine language instructions to specify the address of an operand or of an instruction. Each logical address consists of a segment and an offset that denotes the distance from the start of the segment to the actual address.
          <div class="read-more">
            <a href="/2018/11/27/Understanding-the-Linux-Kernel-读书笔记-Memory-Addressing/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </li></ul></div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/26/Understanding-the-Linux-Kernel-读书笔记-Process/">Understanding the Linux Kernel 读书笔记 -Process</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-26
        </span>
        
          <span class="post-category">
            
              <a href="/categories/Kernel/">Kernel</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <h2 id="Processes-Lightweight-Processes-and-Threads"><a href="#Processes-Lightweight-Processes-and-Threads" class="headerlink" title="Processes, Lightweight Processes, and Threads"></a>Processes, Lightweight Processes, and Threads</h2><p>A process is an instance of a program in execution. You might think of it as the collection of data structures that fully describes how far the execution of the program has progressed. The purpose of a process is to act as an entity to which system resources (CPU time, memory, etc.) are allocated.<br>
          <div class="read-more">
            <a href="/2018/11/26/Understanding-the-Linux-Kernel-读书笔记-Process/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </p></div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/20/进程切换switch-to宏第三个参数分析/">进程切换switch_to宏第三个参数分析</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-20
        </span>
        
          <span class="post-category">
            
              <a href="/categories/Kernel/">Kernel</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <p>switch_to宏的<a href="https://elixir.bootlin.com/linux/v4.19.4/source/arch/x86/include/asm/switch_to.h#L70" target="_blank" rel="noopener">代码</a>如下：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> switch_to(prev, next, last)                 \</span></span><br><span class="line"><span class="keyword">do</span> &#123;                                    \</span><br><span class="line">    prepare_switch_to(next);                    \</span><br><span class="line">                                    \</span><br><span class="line">    ((last) = __switch_to_asm((prev), (next)));         \</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="number">0</span>)</span><br></pre></td></tr></table></figure></p>
          <div class="read-more">
            <a href="/2018/11/20/进程切换switch-to宏第三个参数分析/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/16/分段机制解析/">分段机制解析</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-16
        </span>
        
          <span class="post-category">
            
              <a href="/categories/计算机系统/">计算机系统</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <h2 id="硬件中的分段"><a href="#硬件中的分段" class="headerlink" title="硬件中的分段"></a>硬件中的分段</h2><h3 id="1-1-段选择符和段寄存器"><a href="#1-1-段选择符和段寄存器" class="headerlink" title="1.1 段选择符和段寄存器"></a>1.1 段选择符和段寄存器</h3><p>分段是一种朴素的内存管理机制，它将内存划分成以起始地址(Base)和长度(Limit)描述的块，这些内存块就被称为“段”。
          <div class="read-more">
            <a href="/2018/11/16/分段机制解析/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </p></div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/14/内核中统计mysql进程匿名页的访问热度/">内核中统计mysql进程匿名页的访问热度</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-14
        </span>
        
          <span class="post-category">
            
              <a href="/categories/Kernel/">Kernel</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <p>遇到一个需求，需要在内核中统计mysql进程匿名页的访问热度。<br>
          <div class="read-more">
            <a href="/2018/11/14/内核中统计mysql进程匿名页的访问热度/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </p></div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/09/内核中遍历所有的page/">内核中遍历所有的page</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-09
        </span>
        
          <span class="post-category">
            
              <a href="/categories/Kernel/">Kernel</a>
            
          </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          <p>遇到一个需求，需要在内核模块中统计page cache页面的数量。<br>
          <div class="read-more">
            <a href="/2018/11/09/内核中遍历所有的page/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </p></div>

    

    

  </article>

      
      
  <nav class="pagination">
    
      <a class="prev" href="/page/56/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">上一页</span>
      </a>
    
    
      <a class="next" href="/page/58/">
        <span class="next-text">下一页</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


    
  </section>

          </div>
          

        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:liujunming1163@gmail.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
        
          <a href="https://github.com/liujunming" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>



<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2016 - 
    
    2025

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">liujunming</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    


    
  



  
  





  
    <script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.10.1"></script>

  </body>
</html>
